<?php
//----------------------------------------------------------------------------------------------------------------//
//----------------------------------------Recup info sur l'utilisateur--------------------------------------------//

$utilisateur_id = ID_DE_LUTILISATEUR;
$user = utilisateur::where('utilisateur_id', '=', $utilisateur_id)->first();

//----------------------------------------------------------------------------------------------------------------//
//------------------------------Liste des utilisateur qui ne sont pas ami de l'utilisateur------------------------//

$utilisateur_id = ID_DE_LUTILISATEUR;
$tabIDFavori = array($utilisateur_id );
$user = utilisateur::where('utilisateur_id', '=', $utilisateur_id )->first();
foreach ($user->contact as $contact) {
    $userContactID = $contact->contact_id;
    array_push($tabIDFavori, $userContactID);
}
$pascontact = utilisateur::whereNotIn('utilisateur_id', $tabIDFavori)->get();
foreach ($pascontact as $utilisateurNonContact) {
    // ICI tu as les utilisateurs qui ne sont pas en contact de ton utilisateur
}
//----------------------------------------------------------------------------------------------------------------//
//--------------------Requete de recupÃ©ration des evenement d'un utilisateur pour la page d'accueil---------------//

$utilisateur_id = ID_DE_LUTILISATEUR;
$user = utilisateur::where('utilisateur_id', '=', $utilisateur_id)->first();
foreach ($user->evenement as $event) {
    //Chaque evenements de l'utilisateur (variable $user->evenement) dans la variable $event 
}

//------------------------------------TRIE PAR DATE CROISSANTE----------------------------------------------------// 

$utilisateur_id = ID_DE_LUTILISATEUR;
$user = utilisateur::where('utilisateur_id', '=', $utilisateur_id)->first();
foreach ($user->evenement()->orderBy('dateDebut')->get() as $event) {
    //Chaque evenements de l'utilisateur (variable $user->evenement) dans la variable $event     
}

//----------------------------------------------------------------------------------------------------------------//
//----------------------------------------Recuperer les contact d'un utilisateur----------------------------------// 

$utilisateur_id = ID_DE_LUTILISATEUR;
$user = utilisateur::where('utilisateur_id', '=', $utilisateur_id )->first();
foreach ($user->contact as $contact) {
    $userContact= utilisateur::where('utilisateur_id', '=', $contact->contact_id)->first();
    //Chaque $userContact represente l'objet representant l'utilisateur etant un Favori de l'utilisateur ayant 
    //  pour ID celui de $utilisateur_id
}

//----------------------------------------------------------------------------------------------------------------//
//------------------------------------------------Supprimmer un contact-------------------------------------------//

$utilisateur_id = ID_DE_LUTILISATEUR;
$contact_id = ID_DU_CONTACT;
$contact = contact::where('utilisateur_id', '=', $utilisateur_id )->where('contact_id', '=', $contact_id )->first();
$contact->delete();

//----------------------------------------------------------------------------------------------------------------//
//-------------------------------------------------Ajouter un contact---------------------------------------------//

$utilisateur_id = ID_DE_LUTILISATEUR;
$contact_id = ID_DU_CONTACT;
$contact = new contact();
$contact->utilisateur_id = $utilisateur_id;
$contact->contact_id = $contact_id;
$contact->save();
//----------------------------------------------------------------------------------------------------------------//
//----------------------------------------------------------------------------------------------------------------//
//----------------------------------------------------------------------------------------------------------------//
//----------------------------------------------------------------------------------------------------------------//
//----------------------------------------------------------------------------------------------------------------//
//----------------------------------------------------------------------------------------------------------------//
//----------------------------------------------------------------------------------------------------------------//